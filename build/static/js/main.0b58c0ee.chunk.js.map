{"version":3,"sources":["services/login.js","services/news.js","components/NewsTable.js","components/FormNews.js","App.js","reportWebVitals.js","index.js"],"names":["login","credentials","a","axios","post","response","data","baseUrl","getNews","get","postNews","news","putNews","id","put","deleteNews","delete","NewsTable","newsArray","handleAddNews","handleDeleteNews","map","e","title","description","theme","link","img_url","onClick","EditNews","onSubmit","newsTitle","newsDescription","newsTheme","newsLink","newsIMG_URL","handleNewsChange","value","onChange","type","App","useState","authenticated","setAuthenticated","pin","setPin","errorMsg","setErrorMsg","setNewsArray","wantEditNews","setWantEditNews","wantAddNews","setWantAddNews","setNewsTitle","setNewsDescription","setNewsTheme","setNewsLink","setNewsIMG_URL","newsID","setNewsID","authenticate","event","preventDefault","loginService","then","results","setNotificationMessage","Notification","prop","message","undefined","className","setTimeout","handleAddClickButton","target","editNews","tmp","result","backToTable","status","console","log","addNews","FormNews","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0b58c0ee.chunk.js","sourcesContent":["import axios from 'axios'\r\nconst baseUrl = 'http://localhost:3006/login'\r\nconst login = async credentials => {\r\n    const response = await axios.post(baseUrl, credentials)\r\n    return response.data\r\n}\r\n\r\nexport default {login}","import axios from 'axios'\r\nconst baseUrl = 'http://localhost:3006/news/'\r\nconst getNews = async() => {\r\n    const response = await axios.get(baseUrl)\r\n    return response.data\r\n}\r\nconst postNews = async news => {\r\n    const response = await axios.post(baseUrl, news)\r\n    return response\r\n}\r\nconst putNews = async(news, id) => {\r\n    const response = await axios.put(baseUrl+id, news)\r\n    return response\r\n}\r\nconst deleteNews = async id => {\r\n    const response = await axios.delete(baseUrl+id)\r\n    return response\r\n}\r\n\r\nexport {getNews, postNews, putNews, deleteNews}","import React from 'react';\r\n\r\nconst NewsTable = ({newsArray, handleAddNews, handleDeleteNews})=>{\r\n    return (\r\n        <div>\r\n           <h1>Notícias</h1>\r\n           {newsArray.map(e=>{\r\n                return(\r\n                <div key={e.id}>\r\n                    <span>{e.title} | </span>\r\n                    <span>{e.description}|  </span>\r\n                    <span>{e.theme} | </span>\r\n                    <span>{e.link} | </span>\r\n                    <span>{e.img_url} | </span>\r\n                    <button onClick={()=>handleAddNews(e.id)}>Editar</button>\r\n                    <button onClick={()=>handleDeleteNews(e.id)}>Deletar</button>\r\n                </div>\r\n                )\r\n            })}\r\n        </div>\r\n     )\r\n}\r\nexport default NewsTable","import React from 'react';\r\n\r\nconst EditNews = ({onSubmit, newsTitle, newsDescription, newsTheme, newsLink, newsIMG_URL, handleNewsChange}) => {\r\n    return(\r\n        <form onSubmit={onSubmit} id=\"form\">\r\n        <div>\r\n          Título: <input id='title' value={newsTitle} onChange={handleNewsChange}/>\r\n          Descrição: <input id='description' value={newsDescription} onChange={handleNewsChange}/>\r\n          Tema: <input id='theme' value={newsTheme} onChange={handleNewsChange}/>\r\n          Link: <input id='link' value={newsLink} onChange={handleNewsChange}/>\r\n          Link da imagem: <input id='img_url' value={newsIMG_URL} onChange={handleNewsChange}/>\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">Editar</button>\r\n        </div>\r\n      </form>\r\n    )\r\n}\r\n\r\nexport default EditNews","import './App.css';\nimport loginService from './services/login'\nimport {deleteNews, getNews, postNews, putNews} from './services/news'\nimport NewsTable from './components/NewsTable'\nimport FormNews from './components/FormNews'\nimport React, {useState} from 'react'\n\nfunction App() {\n  //TODO mudar o estado padrão de authenticated para falso\n  const [authenticated, setAuthenticated] = useState(false)\n  const [pin, setPin] = useState('')\n  const [errorMsg, setErrorMsg] = useState()\n  const [newsArray, setNewsArray] = useState([])\n  const [wantEditNews, setWantEditNews] = useState(false)\n  const [wantAddNews, setWantAddNews] = useState(false)\n  const [newsTitle, setNewsTitle] = useState('')\n  const [newsDescription, setNewsDescription] = useState('')\n  const [newsTheme, setNewsTheme] = useState('Esportes')\n  const [newsLink, setNewsLink] = useState('')\n  const [newsIMG_URL, setNewsIMG_URL] = useState('')\n  const [newsID, setNewsID] = useState('')\n\n  const authenticate = async (event)=>{\n    event.preventDefault()\n    try{\n      const result = await loginService.login({pin})\n      if(result==='OK'){\n        setAuthenticated(true)\n        getNews().then(results=>setNewsArray(results))\n        setNotificationMessage('Logado')\n      }\n    }catch(e){\n      setNotificationMessage('PIN incorreto')\n    }\n  }\n\n  const Notification = (prop)=>{\n    if(prop.message===null || prop.message===undefined){\n        return null\n    }\n    return(\n        <div className='error'>\n            {prop.message}\n        </div>\n    )\n}\n\n  const setNotificationMessage = (message) => {\n    setErrorMsg(message)\n      setTimeout(()=>{\n        setErrorMsg(null)\n    }, 2000)\n  }\n\n  const handlePinChange = (event)=>{\n    setPin(event)\n  }\n\n  const handleAddNews = (e) =>{\n    setWantEditNews(true)\n    setNewsID(e)\n  }\n\n  const handleAddClickButton = () => {\n    setWantAddNews(true)\n  }\n\n  const handleNewsChange = (event) => {\n    const value=event.target.value\n    switch(event.target.id){\n      case 'title':\n        setNewsTitle(value)\n        break\n      case 'description':\n        setNewsDescription(value)\n        break\n      case 'theme':\n        setNewsTheme(value)\n        break\n      case 'link':\n        setNewsLink(value)\n        break\n      default:\n        setNewsIMG_URL(value)\n        break\n    }\n  }\n\n  const editNews = async (event)=>{\n    event.preventDefault();\n    const tmp = {\n      title: newsTitle,\n      description: newsDescription,\n      theme: newsTheme,\n      link: newsLink,\n      img_url: newsIMG_URL\n    }\n    let result = await putNews(tmp, newsID)\n    backToTable()\n    if(result.status===200){\n      setNotificationMessage('Notícia atualizada')\n    }else{\n      setNotificationMessage('Deu algum erro')\n    }\n\n  }\n\n  const handleDeleteNews = async (event) => {\n    console.log(event);\n    const result = await deleteNews(event)\n    if(result.status===204){\n      setNotificationMessage('Notícia apagada')\n    }else{\n      setNotificationMessage('Deu erro')\n    }\n    backToTable()\n  }\n\n  const addNews = async (event)=>{\n    event.preventDefault();\n    const tmp = {\n      title: newsTitle,\n      description: newsDescription,\n      theme: newsTheme,\n      link: newsLink,\n      img_url: newsIMG_URL\n    }\n    console.log(tmp);\n    let result = await postNews(tmp)\n    backToTable()\n    if(result.status===200){\n      setNotificationMessage('Notícia postada')\n    }else{\n      setNotificationMessage('Deu algum erro')\n    }\n  }\n\n  const backToTable = () => {\n    setWantEditNews(false)\n    setWantAddNews(false)\n    setNewsTitle('')\n    setNewsDescription('')\n    setNewsTheme('Esportes')\n    setNewsLink('')\n    setNewsIMG_URL('')\n    getNews().then(results=>setNewsArray(results))\n  }\n\n  return (\n    <div className=\"App\">\n      <h1>ADMIN PANEL</h1>\n      <Notification message={errorMsg}/>\n      {(() => {\n        if (authenticated===false) {\n          return(\n            <form onSubmit={authenticate}>\n              <input type='password' value={pin} onChange={({target})=>handlePinChange(target.value)}/>\n              <button type='submit'>Login</button>\n            </form>\n          )\n        }else if(authenticated===true && wantEditNews===false && wantAddNews===false){\n          return(\n            <div>\n              <NewsTable newsArray={newsArray} handleAddNews={handleAddNews} handleDeleteNews={handleDeleteNews}/>\n              <button className='fab' onClick={handleAddClickButton}>ADD</button>\n            </div>\n          )\n        }else if(wantAddNews===true && wantEditNews===false){\n          return(\n            <FormNews onSubmit={addNews} newsTitle={newsTitle} newsDescription={newsDescription} newsTheme={newsTheme} newsLink={newsLink} newsIMG_URL={newsIMG_URL} handleNewsChange={handleNewsChange}/>\n          )\n        }else if(wantEditNews===true && wantAddNews===false){\n          return(\n            <FormNews onSubmit={editNews} newsTitle={newsTitle} newsDescription={newsDescription} newsTheme={newsTheme} newsLink={newsLink} newsIMG_URL={newsIMG_URL} handleNewsChange={handleNewsChange}/>\n          )\n        }\n      })()}\n    </div>\n  );\n  \n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}