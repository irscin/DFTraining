(this["webpackJsonpadmin-panel"]=this["webpackJsonpadmin-panel"]||[]).push([[0],{22:function(e,t,n){},24:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(2),c=n.n(a),s=n(16),i=n.n(s),u=(n(22),n(1)),o=n.n(u),l=n(5),j=n(4),p=(n(24),n(6)),b=n.n(p),d={login:function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.post("http://localhost:3006/login",t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},h="http://localhost:3006/news/",f=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get(h);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.post(h,t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(l.a)(o.a.mark((function e(t,n){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.put(h+n,t);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),x=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.delete(h+t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(e){var t=e.newsArray,n=e.handleAddNews,a=e.handleDeleteNews;return Object(r.jsxs)("div",{children:[Object(r.jsx)("h1",{children:"Not\xedcias"}),t.map((function(e){return Object(r.jsxs)("div",{children:[Object(r.jsxs)("span",{children:[e.title," | "]}),Object(r.jsxs)("span",{children:[e.description,"|  "]}),Object(r.jsxs)("span",{children:[e.theme," | "]}),Object(r.jsxs)("span",{children:[e.link," | "]}),Object(r.jsxs)("span",{children:[e.img_url," | "]}),Object(r.jsx)("button",{onClick:function(){return n(e.id)},children:"Editar"}),Object(r.jsx)("button",{onClick:function(){return a(e.id)},children:"Deletar"})]},e.id)}))]})},w=function(e){var t=e.onSubmit,n=e.newsTitle,a=e.newsDescription,c=e.newsTheme,s=e.newsLink,i=e.newsIMG_URL,u=e.handleNewsChange;return Object(r.jsxs)("form",{onSubmit:t,id:"form",children:[Object(r.jsxs)("div",{children:["T\xedtulo: ",Object(r.jsx)("input",{id:"title",value:n,onChange:u}),"Descri\xe7\xe3o: ",Object(r.jsx)("input",{id:"description",value:a,onChange:u}),"Tema: ",Object(r.jsx)("input",{id:"theme",value:c,onChange:u}),"Link: ",Object(r.jsx)("input",{id:"link",value:s,onChange:u}),"Link da imagem: ",Object(r.jsx)("input",{id:"img_url",value:i,onChange:u})]}),Object(r.jsx)("div",{children:Object(r.jsx)("button",{type:"submit",children:"Editar"})})]})};var g=function(){var e=Object(a.useState)(!1),t=Object(j.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(""),i=Object(j.a)(s,2),u=i[0],p=i[1],b=Object(a.useState)(),h=Object(j.a)(b,2),g=h[0],k=h[1],S=Object(a.useState)([]),D=Object(j.a)(S,2),N=D[0],y=D[1],C=Object(a.useState)(!1),L=Object(j.a)(C,2),T=L[0],A=L[1],I=Object(a.useState)(!1),_=Object(j.a)(I,2),E=_[0],M=_[1],F=Object(a.useState)(""),P=Object(j.a)(F,2),G=P[0],R=P[1],U=Object(a.useState)(""),B=Object(j.a)(U,2),J=B[0],z=B[1],K=Object(a.useState)("Esportes"),q=Object(j.a)(K,2),H=q[0],Q=q[1],V=Object(a.useState)(""),W=Object(j.a)(V,2),X=W[0],Y=W[1],Z=Object(a.useState)(""),$=Object(j.a)(Z,2),ee=$[0],te=$[1],ne=Object(a.useState)(""),re=Object(j.a)(ne,2),ae=re[0],ce=re[1],se=function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,d.login({pin:u});case 4:"OK"===e.sent&&(c(!0),f().then((function(e){return y(e)})),ue("Logado")),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),ue("PIN incorreto");case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),ie=function(e){return null===e.message||void 0===e.message?null:Object(r.jsx)("div",{className:"error",children:e.message})},ue=function(e){k(e),setTimeout((function(){k(null)}),2e3)},oe=function(e){A(!0),ce(e)},le=function(){M(!0)},je=function(e){var t=e.target.value;switch(e.target.id){case"title":R(t);break;case"description":z(t);break;case"theme":Q(t);break;case"link":Y(t);break;default:te(t)}},pe=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n={title:G,description:J,theme:H,link:X,img_url:ee},e.next=4,v(n,ae);case 4:r=e.sent,he(),200===r.status?ue("Not\xedcia atualizada"):ue("Deu algum erro");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),be=function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,x(t);case 3:204===e.sent.status?ue("Not\xedcia apagada"):ue("Deu erro"),he();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),de=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n={title:G,description:J,theme:H,link:X,img_url:ee},console.log(n),e.next=5,O(n);case 5:r=e.sent,he(),200===r.status?ue("Not\xedcia postada"):ue("Deu algum erro");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),he=function(){A(!1),M(!1),R(""),z(""),Q("Esportes"),Y(""),te(""),f().then((function(e){return y(e)}))};return Object(r.jsxs)("div",{className:"App",children:[Object(r.jsx)("h1",{children:"ADMIN PANEL"}),Object(r.jsx)(ie,{message:g}),!1===n?Object(r.jsxs)("form",{onSubmit:se,children:[Object(r.jsx)("input",{type:"password",value:u,onChange:function(e){var t,n=e.target;return t=n.value,void p(t)}}),Object(r.jsx)("button",{type:"submit",children:"Login"})]}):!0===n&&!1===T&&!1===E?Object(r.jsxs)("div",{children:[Object(r.jsx)(m,{newsArray:N,handleAddNews:oe,handleDeleteNews:be}),Object(r.jsx)("button",{className:"fab",onClick:le,children:"ADD"})]}):!0===E&&!1===T?Object(r.jsx)(w,{onSubmit:de,newsTitle:G,newsDescription:J,newsTheme:H,newsLink:X,newsIMG_URL:ee,handleNewsChange:je}):!0===T&&!1===E?Object(r.jsx)(w,{onSubmit:pe,newsTitle:G,newsDescription:J,newsTheme:H,newsLink:X,newsIMG_URL:ee,handleNewsChange:je}):void 0]})},k=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,43)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))};i.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(g,{})}),document.getElementById("root")),k()}},[[42,1,2]]]);
//# sourceMappingURL=main.0b58c0ee.chunk.js.map